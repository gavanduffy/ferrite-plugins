name: Ferrite iOS Master Plugins
author: kingbri & User
sources:
  - name: Torrent Search Worker
    version: 1
    minVersion: '0.7.2'
    about: Search aggregator via Cloudflare Worker API.
    website: https://torrent-search-worker.euangrimshaw.workers.dev
    tags:
      - name: Aggregator
        color: '5856d6'
    jsonParser:
      searchUrl: "/api/search?q={query}"
      results: results
      title:
        query: title
      magnetLink:
        query: magnetLink
      size:
        query: size
      sl:
        seeders: seeders
        leechers: leechers
      date:
        query: date

  - name: AnimeTosho
    version: 6
    minVersion: '0.6.4'
    about: An aggregator of public trackers for Japanese media.
    website: https://animetosho.org
    tags:
      - name: Reliable
        color: '34c759'
      - name: Anime
    rssParser:
      rssUrl: https://feed.animetosho.org
      searchUrl: "/api?q={query}"
      items: item
      magnetHash:
        query: infohash
        discriminator: name
        attribute: value
      magnetLink:
        query: magnetUrl
        discriminator: name
        attribute: value
      title:
        query: title
      size:
        query: size
        discriminator: name
        attribute: value
      sl:
        seeders: seeders
        leechers: leechers
        discriminator: name
        attribute: value
    htmlParser:
      searchUrl: "/search?q={query}"
      rows: '#content .home_list_entry'
      magnet:
        query: '.links > a:nth-child(4)'
        attribute: href
      title:
        query: .link
      size:
        query: .size
      sl:
        combined: '.links > span:nth-child(5)'
        attribute: title
        seederRegex: 'Seeders:\s?(\d+)'
        leecherRegex: 'Leechers:\s?(\d+)'

  - name: Nyaa
    version: 6
    minVersion: '0.6.4'
    about: The one stop shop for anime.
    website: https://nyaa.si
    tags:
      - name: Reliable
        color: '34c759'
    htmlParser:
      searchUrl: "/?q={query}"
      rows: '.torrent-list tbody tr'
      magnet:
        query: 'td:nth-child(3) > a:nth-child(2)'
        attribute: href
      title:
        query: 'td:nth-child(2) > a:nth-last-child(1)'
      size:
        query: 'td:nth-child(4)'
      sl:
        seeders: 'td:nth-child(6)'
        leechers: 'td:nth-child(7)'

  - name: SolidTorrents
    version: 1
    minVersion: '0.6.4'
    about: Comprehensive torrent search via SolidTorrents API.
    website: https://solidtorrents.to
    tags:
      - name: Reliable
        color: '34c759'
    jsonParser:
      searchUrl: "/api/v1/search?q={query}&limit=100&sort=seeders"
      results: results
      magnetHash:
        query: infohash
      title:
        query: title
      size:
        query: size
      sl:
        seeders: seeders
        leechers: leechers

  - name: Torrents CSV
    version: 1
    minVersion: '0.6.4'
    about: Fast torrent search via torrents-csv.com.
    website: https://torrents-csv.com
    tags:
      - name: Fast
        color: '34c759'
    jsonParser:
      searchUrl: "/service/search?q={query}"
      results: torrents
      magnetHash:
        query: infohash
      title:
        query: name
      size:
        query: size_bytes
      sl:
        seeders: seeders
        leechers: leechers

  - name: Knaben
    version: 1
    minVersion: '0.6.4'
    about: Knaben torrent search via HTML parsing.
    website: https://knaben.net
    tags:
      - name: General
    htmlParser:
      searchUrl: "/search/{query}"
      rows: 'table.table-striped tbody tr'
      magnet:
        query: "a[href^='magnet']"
        attribute: href
      title:
        query: .title a
      size:
        query: 'td:nth-child(3)'
      sl:
        seeders: 'td:nth-child(4)'
        leechers: 'td:nth-child(5)'

actions:
  - name: Open in Outplayer
    version: 3
    minVersion: '0.6.4'
    about: Supports PIP with MKV files.
    requires:
      - debrid
    deeplink:
      - os: iOS
        scheme: 'outplayer://{link}'
